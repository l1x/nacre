# tools
[tools]
rust = "1.90.0"

# env

# tasks
[tasks.lint]
description = "Lint with Clippy, failing on warnings"
run = "cargo clippy -- -D warnings"

[tasks.fmt]
description = "Format code with cargo fmt"
run = "cargo fmt"

[tasks.tests]
description = "Running tests"
run = "cargo test -- --nocapture"

[tasks.build-dev]
description = "Building the development version"
run = "cargo build"

[tasks.build-prod]
description = "Building the development version"
run = "cargo build --release"

[tasks.build-prod-with-timings]
description = "Building the development version"
run = "cargo build --release --timings"

[tasks.show-issues]
description = "List all open issues"
run = "bd list --status open"

[tasks.show-ready]
description = "Show ready work (no blockers)"
run = "bd ready"

[tasks.show-blocked]
description = "Show blocked issues"
run = "bd blocked"

[tasks.show-issue-stats]
description = "Show issue statistics"
run = "bd stats"

[tasks.show-issue-tree]
description = "Show dependency tree for an issue (use: mise run issue-tree -- bd-1)"
run = "bd dep tree"

[tasks.coverage]
description = "Run tests with coverage using cargo-tarpaulin"
run = "cargo tarpaulin --out Stdout --skip-clean"

[tasks.coverage-html]
description = "Run tests with coverage and generate HTML report"
run = "cargo tarpaulin --out Html --skip-clean --output-dir target/tarpaulin"

[tasks.start-dev-server]
description = "Building the development version"
run = "cargo run --"
